(()=>{"use strict";var e={381:(e,t,n)=>{n.r(t)},872:(e,t,n)=>{n.r(t)},781:(e,t,n)=>{n.r(t)},549:(e,t,n)=>{n.r(t)},387:(e,t,n)=>{n.r(t)},976:function(e,t){var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateCar=void 0,t.updateCar=new class{constructor(){this.carID=""}selectedCar(e){const t=e.id.slice(7);this.carID=t}updateCar(){return n(this,void 0,void 0,(function*(){const e=document.querySelector("#update-text"),t=document.querySelector("#updateColor"),n=document.querySelectorAll(`#car-color__${this.carID}`),i=document.querySelector(`#carName__${this.carID}`),r=`http://127.0.0.1:3000/garage/${this.carID}`,a={name:null==e?void 0:e.value,color:null==t?void 0:t.value},o={method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}};yield fetch(r,o).then((e=>e.json())).then((()=>{for(let e=0;e<n.length;e++)n[e].style.fill=t.value;i&&(i.innerHTML=e.value)})),this.carID=""}))}}},564:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(589),r=n(976);function a(e){const{id:t}=e,n=document.querySelector(".page-garage"),a=document.querySelector(".page-winners");switch(t){case"toGarage":null==a||a.classList.add("hidden"),null==n||n.classList.remove("hidden");break;case"toWinners":null==a||a.classList.remove("hidden"),null==n||n.classList.add("hidden");break;case"create":i.createCar();break;case"update":r.updateCar.updateCar();break;case"prevGarage":i.changeGaragePage(1);break;case"nextGarage":i.changeGaragePage(0);break;case"generate":i.generateCars();break;case"race":i.raceMode();break;case"reset":i.reset();break;case"prevWinners":i.changeWinnersPage(1);break;case"nextWinners":i.changeWinnersPage(0);break;case"bestTimeSort":i.sortWinners("time");break;case"winsSort":i.sortWinners("wins")}}t.default=function(){const e=document.querySelectorAll('input[type="button"]'),t=document.querySelectorAll('input[type="text"]'),n=document.querySelectorAll('input[type="color"]'),i=document.querySelectorAll(".sortType");null==e||e.forEach((e=>{e.addEventListener("click",(()=>a(e)))})),null==t||t.forEach((e=>{e.addEventListener("click",(()=>a(e)))})),null==n||n.forEach((e=>{e.addEventListener("click",(()=>a(e)))})),null==i||i.forEach((e=>{e.addEventListener("click",(()=>a(e)))}))}},28:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.renderCar=void 0,t.renderCar=function(e,t){return`\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 307.75">\n  <title>All-icons</title>\n  <path id="car-color__${e}"\n    d="M489.8,189.85c-16.6-10.2-70.3-23.3-145.5-23.3l-39.8-46.4a44\n    ,44,0,0,0-33.5-15.4H152a52.8,52.8,0,0,0-34.5,\n    12.8l-46.9,40.2-50,7.1A17.5,17.5,0,0,0,6,178.05l-6,23.8,132.4\n    ,61.8H503.2v-49.9A28,28,0,0,0,489.8,189.85Z"\n    fill=${t} />\n  <path id="car-color__${e}"\n    d="M503.2,219.45c0-17.7-26.5-35.3-150.1-35.3H8.8A8.8,8.8,0\n    ,0,0,0,193v53l167.7,26.5H503.1v-53h0.1Z"\n    fill=${t} />\n  <path id="car-color__${e}"\n    d="M503.2,254.85H89.2l-78.5-17.4A8.8,8.8,0,0,0,.2,244.14h0A8.7,8.7,0,0,0\n    ,6.69,254.6l0.21,0,79.5,17.6,1.9,0.2H503.2A8.8,8.8,0,0,0,503.2,254.85Z"\n    fill=${t} />\n  <circle cx="423.7" cy="254.75" r="44.1" fill="#ededee" />\n  <path\n    d="M423.7,307.75a53,53,0,1,1,53-53h0A53.1,53.1,0,0,1,423.7\n    ,307.75Zm0-88.3a35.3,35.3,0,1,0,.1,0h-0.1Z"\n    fill="#504b5a" />\n  <circle cx="423.7" cy="254.75" r="17.7" fill="#dcdbde" />\n  <circle cx="88.3" cy="254.75" r="44.1" fill="#ededee" />\n  <path\n    d="M88.3,307.75a53,53,0,1,1,53-53h0A53.1,53.1,0,0,1,88.3,307.75Zm0-88.3a35.3\n    ,35.3,0,1,0,35.3,35.3h0A35.3,35.3,0,0,0,88.3,219.45Z"\n    fill="#504b5a" />\n  <circle cx="88.3" cy="254.75" r="17.7" fill="#dcdbde" />\n  <path\n    d="M353.1,237.15H167.7a8.8,8.8,0,0,1-8.8-8.8h0a8.8,8.8,0,0,1\n    ,8.8-8.8H353.1a8.8,8.8,0,0,1,8.8,8.8h0A8.8,8.8,0,0,1,353.1,237.15Z"\n    fill="#504b5a" />\n  <path id="car-color__${e}"\n    d="M503.2,237.15h-8.8a8.8,8.8,0,0,1-8.8-8.8h0a8.8,8.8,0,0,1,8.8-8.8h8.8a8.8\n    ,8.8,0,0,1,8.8,8.8h0A8.9,8.9,0,0,1,503.2,237.15Z"\n    fill=${t} />\n  <path id="car-color__${e}"\n    d="M70.6,157.65l46.9-40.2a53.1,53.1,0,0,1,34.5-12.8H271a44,44,0,0,1,33.5\n    ,15.4l39.8,46.4h-209a138.8,138.8,0,0,1-23.2-1.9Z"\n    fill=${t} />\n  <path\n    d="M261.3,120a17.8,17.8,0,0,0-13.6-6.4H166.2a17.7,17.7,0,0,0-12.5,5.2l-26.5\n    ,26.5a12.6,12.6,0,0,0-3.7,8.8h0a12.5,12.5,0,0,0,12.5,12.5H290.6a4.4,4.4,0,0,0,3.4-7.2Z"\n    fill="#625d6b" />\n  <polygon points="185.4 166.55 158.9 166.55 176.6 113.55 194.2 113.55 185.4 166.55" fill="#504b5a" />\n  <path d="M493.7,193.05h-8.2a8.8,8.8,0,0,0,0,17.6h17.3A27.5,27.5,0,0,0,493.7,193.05Z" fill="#FAF201" />\n  <path\n    d="M304.5,120.15a43.5,43.5,0,0,0-7-6.6H283.1a4.4,4.4\n    ,0,0,0-3.4,7.2l32.8,39.4a17.8,17.8,0,0,0,13.6,6.4h18.2Z"\n    fill="#625d6b" />\n  <path\n    d="M0,193.05v8.8H17.7a8.8,8.8,0,0,0,0-17.6H8.8a8.7,8.7,0,0,0-8.8,8.6Q0,193,0,193.05Z"\n    fill='red' />\n  </svg>\n  `}},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.finishFlag=void 0,t.finishFlag='\n  <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"\n    xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512"\n    style="enable-background:new 0 0 512 512;" xml:space="preserve">\n    <g>\n      <path style="fill:#ffffff;"\n      d="M496,16c-8.836,0-16,7.164-16,16v16H32V32c0-8.836-7.164-16-16-16S0,23.164,0,32v32v192v224\n      c0,8.836,7.164,16,16,16s16-7.164,16-16V272h448v208c0,8.836,7.164,16,16,16s16-7.164,16-16V256V64V32\n      C512,23.164,504.836,16,496,16z M416,240v-80h-80v80h-80v-80h-80v80H96v\n      -80H32V80h64v80h80V80h80v80h80V80h80v80h64v80H416z" />\n      <g>\n        <rect x="256" y="160" style="fill:#000000;" width="80" height="80" />\n        <rect x="32" y="80" style="fill:#000000;" width="64" height="80" />\n        <rect x="96" y="160" style="fill:#000000;" width="80" height="80" />\n        <rect x="416" y="160" style="fill:#000000;" width="64" height="80" />\n        <rect x="336" y="80" style="fill:#000000;" width="80" height="80" />\n        <rect x="176" y="80" style="fill:#000000;" width="80" height="80" />\n      </g>\n    </g>\n  </svg>\n'},481:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),n(381);const i=n(28),r=n(972);t.default=function(e,t,n){const a=document.querySelector(".cars-list"),o=document.createElement("div");return o.className="cars-items",o.setAttribute("id",`cars-items__${n}`),o.innerHTML=`\n    <div class="cars-buttons">\n    <input type="button" id="select_${n}" class="button button__blue" value="select">\n    <input type="button" id="remove_${n}" class="button button__blue" value="remove">\n    <h3 id="carName__${n}">${e}</h3>\n    </div>\n    <div class="track">\n    <div class="track-buttons">\n      <input type="button" id="start_${n}" class="button button__track start-button" value="a">\n      <input type="button" id="stop_${n}" class="button button__track stop-button" value="b">\n    </div>\n    <div class="car" id="car__${n}">\n      ${i.renderCar(n,t)}\n    </div>\n    <div class="finish" id="finish__${n}">\n      ${r.finishFlag}\n    </div>\n  `,null==a||a.appendChild(o),{selectButton:document.querySelector(`#select_${n}`),removeButton:document.querySelector(`#remove_${n}`),startButton:document.querySelector(`#start_${n}`),stopButton:document.querySelector(`#stop_${n}`)}}},875:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.garagePage=void 0,t.garagePage='\n  <section class="controls">\n    <form>\n      <div class="input-items">\n        <input type="text" id="create-text" class="input-text" maxlength="20" minlength="1" required>\n        <input type="color" class="input-color" id="createColor" name="createColor" value="#ffffff">\n        <input type="button" id="create" class="button button__blue" value="create">\n      </div>\n      <div class="input-items">\n        <input type="text" id="update-text" class="input-text" maxlength="20" minlength="1" required>\n        <input type="color" id="updateColor" name="updateColor" value="#ffffff">\n        <input type="button" id="update" class="button button__blue" value="update">\n      </div>\n      <div class="controls-buttons">\n        <input type="button" id="race" class="button button__green" value="race">\n        <input type="button" id="reset" class="button button__green" value="reset">\n        <input type="button" id="generate" class="button button__blue" value="generate">\n      </div>\n    </form>\n  </section>\n  <section class="garage">\n    <h2>Garage (<span id="carsCount"></span>)</h2>\n    <div class="cars-pages">\n      <h3>Page #<span id="garagePageNum">1</span></h3>\n      <input type="button" id="prevGarage" class="button button__green" value="< prev">\n      <input type="button" id="nextGarage" class="button button__green" value="next >">\n    </div>\n    <div id="carsList" class="cars-list"></div>\n  </section>\n'},916:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(875);n(872),t.default=function(){const e=document.querySelector("main"),t=document.createElement("div");t.classList.add("page-garage"),t.innerHTML=i.garagePage,null==e||e.appendChild(t)}},134:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=document.querySelector("body"),t=document.createElement("header");t.innerHTML='\n    <div class="header-wrapper">\n      <input type="button" id="toGarage" class="button button__green" value="to garage">\n      <input type="button" id="toWinners" class="button button__green" value="to winners">\n    </div>\n  ',null==e||e.prepend(t)}},477:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.winnerModal=void 0,n(781),t.winnerModal=function(e,t){const n=document.querySelector(".page-garage"),i=document.createElement("div");i.classList.add("receWinner"),i.innerHTML=`\n    <span>Race winner:</span><br>\n    <span>${e}</span><br>\n    <br>\n    <span>Its time:</span><br>\n    <span>${t} sek</span>\n  `,null==n||n.append(i),null==i||i.addEventListener("click",(()=>{n.removeChild(i)}))}},874:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.renderWinnersItems=void 0;const r=n(28);n(549),t.default=function(){const e=document.querySelector("main"),t=document.createElement("div");t.classList.add("page-winners"),t.classList.add("hidden"),t.innerHTML='\n    <h2>Winners (<span id="winnersCount">1</span>)</h2>\n      <div class="winners-pages">\n        <h3>Page #<span id="winnersPageNum"></span></h3>\n        <input type="button" id="prevWinners" class="button button__green" value="prev">\n        <input type="button" id="nextWinners" class="button button__green" value="next">\n      </div>\n      <table id=\'sort\' class=\'sort\'>\n        <thead>\n          <tr>\n            <th>Car</th>\n            <th>Name</th>\n            <th class="sortType" id="winsSort">Wins <span id="winsArrow">&#8593</span></th>\n            <th class="sortType" id="bestTimeSort">Best time(sec)<span id="timeArrow">&#8593</span></th>\n          </tr>\n        </thead>\n        <tbody id="tableBody">\n        </tbody>\n      </table>\n  ',null==e||e.appendChild(t)},t.renderWinnersItems=function(e){return i(this,void 0,void 0,(function*(){const t=yield fetch(`http://127.0.0.1:3000/garage/${e.id}`).then((e=>e.json())).then((e=>e)),n=document.querySelector("#tableBody"),i=document.createElement("tr");i.classList.add("winners-row"),i.setAttribute("id",`winners-row__${e.id}`),i.innerHTML=`\n    <tr>\n      <td>\n        <div class="table-car">\n          ${r.renderCar(e.id,t.color)}\n        </div>\n      </td>\n      <td>${t.name}</td>\n      <td id='wins__${e.id}'>${e.wins}</td>\n      <td id="time__${e.id}">${e.time}</td>\n    </tr>\n  `,null==n||n.appendChild(i)}))}},589:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sortWinners=t.changeWinnersPage=t.getPageWinners=t.upLoadWinnersList=t.reset=t.raceMode=t.createCar=t.changeGaragePage=t.getPageGarage=t.generateCars=t.MoveCar=t.generateCarsData=t.deleteCar=t.winnersCount=t.carsCount=t.response=t.winnerSwitcher=void 0;const a=r(n(481)),o=n(976),s=n(477),l=n(874),c="http://127.0.0.1:3000/",d="garage/",u="winners/";let h=1,p=1,g=!1,v=!1,f=!0;function m(e){g=e}function y(e,t){return i(this,void 0,void 0,(function*(){return fetch(e,t)}))}t.winnerSwitcher=m,t.response=y,t.carsCount=()=>i(void 0,void 0,void 0,(function*(){const e=document.querySelectorAll("#carsCount"),t=`${c+d}?_page=1&_limit=7`,n=yield fetch(t).then((e=>e.headers.get("X-Total-Count"))).catch((e=>console.log(e)));e.forEach((e=>{e.innerHTML=`${n}`}))})),t.winnersCount=()=>i(void 0,void 0,void 0,(function*(){const e=document.querySelector("#winnersCount"),t=`${c+u}?_page=1&_limit=10&_sort=time`,n=yield fetch(t).then((e=>e.headers.get("X-Total-Count"))).catch((e=>console.log(e,"winnersCount")));e.innerHTML=`${n}`})),t.deleteCar=e=>i(void 0,void 0,void 0,(function*(){const n=e.id.slice(7),r=`${c}garage/${n}`,a=document.querySelector(`#cars-items__${n}`);yield y(r,{method:"DELETE"}).then((()=>{a.parentNode.removeChild(a)})),t.carsCount(),function(e){i(this,void 0,void 0,(function*(){yield y(`${c+u}${e}`,{method:"DELETE"}),t.winnersCount()}))}(n)})),t.generateCarsData=()=>{function e(e,t){return e[Math.floor(Math.random()*t)]}return{name:`${e(["Audi","BMW","Chery","Chevrolet","Citroen","Daewoo","Ford","Geely","Honda","Hyundai","Kia","LADA","Land Rover","Lexus","Lifan","Mazda","Mercedes","Mitsubishi","Nissan","Opel","Peugeot","Renault","Skoda","Subaru","Suzuki","Toyota","Volkswagen","Volvo","УАЗ"],29)} ${e(["A6","X6","Amulet","Cruse","C4","Nexia","Mustang","Emgrand","Civic","Solaris","Sportage","Granta","Defender","IS250","Solano","MX-5","Maclaren","Colt","GT-R","Insignia","Partner","Duster","Oktavia","Impresa","Vitara","Prius","Golf","XC-70","Patriot"],30)}`,color:`${e(["#24B800","#003C8A","#F07714","#F9F200","#D6003B","#89B802","#05848A","#F03A15","#FABF14","#8F00D6"],10)}`}};const _=e=>e.getBoundingClientRect();class b{constructor(e){this.startEngine=()=>i(this,void 0,void 0,(function*(){const e=`${c}engine?id=${this.id}&status=started`,t=`${c}engine?id=${this.id}&status=drive`;yield y(e).then((e=>e.json())).then((e=>{this.per=Math.floor(e.velocity/10)})).then(this.carRunAnimation()),yield y(t).then((e=>{500===e.status&&this.stopCar()}))})),this.returnCar=()=>{cancelAnimationFrame(this.animationID),document.getElementById(`car__${this.id}`).style.transform="translateX(0px)",this.step=0,this.startButton.disabled=!1,this.raceButton.disabled=!1},this.id=e,this.animationID=0,this.element=document.getElementById(`car__${this.id}`),this.finish=document.getElementById(`finish__${e}`),this.trekLength=((e,t)=>{const n=_(e),i=_(t),r=n.left+n.width/2;return i.left+i.width/2-r})(this.element,this.finish)+320,this.step=0,this.per=5,this.startButton=document.getElementById(`start_${this.id}`),this.raceButton=document.getElementById("race")}carRunAnimation(){this.startButton.disabled=!0,this.raceButton.disabled=!0;const e=()=>i(this,void 0,void 0,(function*(){if(this.step+=this.per,this.element.style.transform=`translateX(${this.step}px)`,this.step<this.trekLength-250)this.animationID=window.requestAnimationFrame(e);else if(!g&&v){v=!1,g=!0;const e=String((this.trekLength/this.per/60).toFixed(2));let n;if(yield y(`${c}garage/${this.id}`).then((e=>e.json())).then((t=>s.winnerModal(t.name,e))).then((()=>m(!1))),function(e){const t=document.querySelectorAll(".winners-row");for(let n=0;n<t.length;n++)if(t[n].id===`winners-row__${e}`)return!0;return!1}(this.id)){yield y(`${c+u}${this.id}`).then((e=>e.json())).then((e=>{n=e})).catch((e=>{console.log(e)}));const t=function(e,t){const n=document.getElementById(`time__${t.id}`),i=t.time,r=Number(e),a=String(Math.min(i,r));return n&&(n.innerHTML=a),a}(e,n),r=function(e){const t=document.getElementById(`wins__${e.id}`),n=e.wins+1;return t&&(t.innerHTML=`${n}`),n}(n);!function(e,t,n){i(this,void 0,void 0,(function*(){const i={wins:Number(n),time:Number(t)},r={method:"PUT",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}};yield y(`${c+u}${e}`,r).catch((e=>console.log("err in updateWinner")))}))}(this.id,t,r)}else!function(e,n){i(this,void 0,void 0,(function*(){const i=document.querySelectorAll(".winners-row"),r={id:Number(e),wins:1,time:Number(n)},a={method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}};yield y(`${c}winners/`,a).then((()=>{i.length<=6&&l.renderWinnersItems(r)})).catch((e=>console.log("err in addWinner"))),t.winnersCount()}))}(this.id,e)}}));return()=>requestAnimationFrame(e)}stopCar(){cancelAnimationFrame(this.animationID)}}t.MoveCar=b;const w=(e,n,i)=>{if(document.querySelectorAll(".cars-items").length<=6){const r=a.default(e,n,i),s=new b(`${i}`);r.selectButton.addEventListener("click",(()=>{o.updateCar.selectedCar(r.selectButton)})),r.removeButton.addEventListener("click",(()=>{t.deleteCar(r.removeButton)})),r.startButton.addEventListener("click",(()=>{s.startEngine()})),r.stopButton.addEventListener("click",(()=>{s.returnCar()}))}};t.generateCars=()=>i(void 0,void 0,void 0,(function*(){for(let e=0;e<100;e++){const e={method:"POST",body:JSON.stringify(t.generateCarsData()),headers:{"Content-Type":"application/json"}};yield y(c+d,e).then((e=>e.json())).then((e=>{w(e.name,e.color,e.id)}))}t.carsCount()})),t.getPageGarage=e=>i(void 0,void 0,void 0,(function*(){const t=`${c+d}?_page=${e}&_limit=7`;yield y(t).then((e=>e.json())).then((e=>{for(let t=0;t<e.length;t++)w(e[t].name,e[t].color,e[t].id)}))})),t.changeGaragePage=e=>i(void 0,void 0,void 0,(function*(){const n=`${c+d}?_page=1&_limit=7`,i=document.querySelector(".cars-list"),r=yield fetch(n).then((e=>e.headers.get("X-Total-Count"))).catch((e=>console.log(e))),a=Math.ceil(Number(r)/7);i.innerHTML="";const o=document.querySelector("#garagePageNum");e?1===h?(h=a,t.getPageGarage(`${h}`)):(h-=1,t.getPageGarage(`${h}`)):h===a?(h=1,t.getPageGarage("1")):(h+=1,t.getPageGarage(`${h}`)),o.innerHTML=`${h}`})),t.createCar=()=>i(void 0,void 0,void 0,(function*(){const e=document.querySelector("#create-text"),n=document.querySelector("#createColor"),i={name:null==e?void 0:e.value,color:null==n?void 0:n.value},r={method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}};yield y(c+d,r).then((e=>e.json())).then((e=>{w(e.name,e.color,e.id)})),e.value="",n.value="#ffffff",t.carsCount()})),t.raceMode=()=>{v=!0;const e=document.querySelectorAll(".start-button");for(let t=0;t<e.length;t++)e[t].click()},t.reset=()=>{const e=document.querySelectorAll(".stop-button");for(let t=0;t<e.length;t++)e[t].click()},t.upLoadWinnersList=function(){return i(this,void 0,void 0,(function*(){yield y(`${c}winners/?_page=1&_limit=10&_sort=time&_order=ASC`).then((e=>e.json())).then((e=>{for(let t=0;t<e.length;t++)l.renderWinnersItems(e[t])}))}))},t.getPageWinners=(e,t="time",n="ASC")=>i(void 0,void 0,void 0,(function*(){const i=`${c+u}?_page=${e}&_limit=10&_sort=${t}&_order=${n}`;yield y(i).then((e=>e.json())).then((e=>{for(let t=0;t<e.length;t++)l.renderWinnersItems(e[t])}))})),t.changeWinnersPage=e=>i(void 0,void 0,void 0,(function*(){const n=`${c+u}?_page=1&_limit=10&_sort=time`,i=document.querySelector("#tableBody"),r=yield fetch(n).then((e=>e.headers.get("X-Total-Count"))),a=Math.ceil(Number(r)/10);i.innerHTML="";const o=document.querySelector("#winnersPageNum");e?1===p?(p=a,t.getPageWinners(`${p}`)):(p-=1,t.getPageWinners(`${p}`)):p===a?(p=1,t.getPageWinners("1")):(p+=1,t.getPageWinners(`${p}`)),o.innerHTML=`${p}`})),t.sortWinners=function(e){return i(this,void 0,void 0,(function*(){let n;document.querySelector("#tableBody").innerHTML="";const i=document.querySelector(`#${e}Arrow`);f?(n="DESC",f=!1,null==i||i.classList.add("rotated-arrow")):(n="ASC",f=!0,null==i||i.classList.remove("rotated-arrow")),yield t.getPageWinners(p,e,n)}))}},607:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(387);const r=i(n(134)),a=i(n(916)),o=i(n(874)),s=i(n(564)),l=n(589),c=document.querySelector("body"),d=document.createElement("main");null==c||c.appendChild(d),a.default(),o.default(),l.upLoadWinnersList(),r.default(),s.default(),l.getPageGarage("1"),l.carsCount(),l.winnersCount()}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(607)})();